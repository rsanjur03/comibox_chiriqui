---
interface Evento {
  id: string;
  nombre: string;
  fecha: string;
  hora?: string;
  lugar?: string;
  ciudad?: string;
  provincia?: string;
  promotor?: string;
  flyerURL?: string;
}
const { evento } = Astro.props as { evento: Evento };
const timeDisplay = evento.hora ? `(${evento.hora})` : '';
const locationDisplay = `${evento.ciudad || 'N/D'}, ${evento.provincia || 'N/D'}`;
---
<article class="bg-gray-800 rounded-lg shadow-lg overflow-hidden flex flex-col">
  <div class="w-full h-48 bg-gray-700 flex items-center justify-center">
    {evento.flyerURL ? (
      <img src={evento.flyerURL} alt={`Flyer del Evento ${evento.nombre}`} class="w-full h-full object-contain" />
    ) : (
      <div class="h-48 flex flex-col items-center justify-center text-gray-400 p-4 text-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-2-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
        Flyer no disponible
      </div>
    )}
  </div>
  <header class="p-4">
    <p class="text-lg font-semibold text-blue-400">{evento.fecha} {timeDisplay}</p>
    <h2 class="text-2xl font-bold truncate text-white">{evento.nombre}</h2>
  </header>
  <div class="p-4 pt-0 grow flex flex-col">
    <p class="text-sm text-gray-300 mb-2">{evento.lugar}{evento.lugar ? ', ' : ''}{locationDisplay}</p>
    <p class="text-sm text-gray-400 mb-4 grow">Promotor: {evento.promotor}</p>
    <a href={`/eventos/${evento.id}`} class="mt-4 inline-block bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded text-center">Ver Cartelera</a>
  </div>
</article>
